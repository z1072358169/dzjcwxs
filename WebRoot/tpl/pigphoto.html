<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>郑州市交巡警支队违法审核平台</title>
</head>
<style>
	html,body{
		margin:0;
		padding:0;
		width:100%;
		height:100%;
	}
</style>
<body>
	<img id="photo" style="zoom: 10%;" onload="scalingImg(this)" onmousewheel="return bigimg(this)">
</body>
<script src="/dzjc/js/jquery-1.8.2.min.js" type="text/javascript"></script>
<script src="/dzjc/js/pigphoto.js"></script>
<script type="text/javascript">
	var url = window.location.search.substr(1);
	document.getElementById("photo").src = url;
	function scalingImg(obj){
        var $this = $(obj);
        var imgWidth = document.getElementsByTagName("img")[0].naturalWidth;;
        var imgHeight = document.getElementsByTagName("img")[0].naturalHeight;

        var parent = $this.parent().parent().parent();
        var containerWidth = parent.width();
        var containerHeight = parent.height();

        var containerRatio = containerWidth / containerHeight;
        var imgRatio = imgWidth / imgHeight;

        if (imgRatio > containerRatio && (imgWidth > containerWidth || imgHeight > containerHeight)) {
            imgWidth = containerWidth;
            imgHeight = containerWidth / imgRatio;
        } else {
            return;
        }
        imgWidth -= 20;
        //imgHeight -= 10;
        $this.attr('width',imgWidth);
        $this.attr('height',imgHeight);
    }

	//图片滚轮放大 （未使用）
	function bigimg(obj){
        var zoom = parseInt(obj.style.zoom,10)||100;
        zoom += event.wheelDelta / 50;
        if(zoom > 0 )
        obj.style.zoom=zoom+'%';
        return false;
    }
</script>
</html>



